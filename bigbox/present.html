<html>
    <head>
        <link href="style.css" rel="stylesheet" type="text/css"/>
        <title>
            Can It Be Economically Rational to Restrict Big Box Retailers?
        </title>
    </head>

    <body>
        <div style="text-align:center">
            <p id="present">
            <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Wal-Mart_in_Madison_Heights.jpg/300px-Wal-Mart_in_Madison_Heights.jpg">
            </p>
        </div>
        
        <h1 id="present">
            Can It Be Economically Rational to Restrict Big Box Retailers?
        </h1>

        <h2 id="present">
            Introduction
        </h2>
            <ul id="present">
                <li id="present">Conventional wisdom:
                moves to restrict
                "big box" retailers
                must hurt consumer welfare.
                <li id="present">After all,
                if consumers did not want to shop at the big box
                retailer, they would simply not do so, correct?
                <li id="present">The fact that they switch their shopping to the
                big box and away from "mom-and-pop" stores
                shows they prefer the big box.
            </ul>

            <figure>
                <img
                src="https://upload.wikimedia.org/wikipedia/commons/b/bf/Bastrop_Texas1.jpg">
                <figcaption id="present">
                    Main Street, Anytown, USA
                </figcaption>
            </figure>

        <h2 id="present">
            Theoretical Considerations
        </h2>
            <p id="present">
                This paper attempts to show that the above
                analysis is simplistic.  We present a model
                in which all consumers have the following 
                preference ordering in some retail sector:
            </p>
            <ol id="present">
                <li id="present">Have both local shops and a big box store.
                <li id="present">Have only local shops.
                <li id="present">Have only a big box store.
            </ol>
            
            <p id="present">
                (We can further assume they know the costs of achieving 1, 2,
                or 3: they want 1 even if they sometimes pay higher prices to
                achieve it compared to 3, i.e., we could add a monthly
                shopping bill to each of the above.)
            </p>
            
            <p id="present">
                We then show that, under not outrageous assumptions,
                it is easy for consumers, in trying to achieve their
                first preference, to instead wind up with their third.
                <br>
                Consumers face:
            </p>

            <ol id="present">
                <li id="present">A knowledge problem
                    <br>
                    They do not know how much they can shop at HomeDespot
                    before Little Guy Hardware Goes out of business.
                <li id="present">A collective action problem
                    <br>
                    Even if the knew the answer to 1 happened to be 10% of the time,
                    how could they make sure their neighbors don't "cheat" 
                    and go 20% of the time?
            </ol>
                
            <p id="present">
                Therefore, since they cannot fine tune their shopping to achieve 1),
                they shop at the big box store whenever it suits them for a particular
                purchase, without regards to the "macro" effects of their
                choices. (<b>Schelling</b>: micromotives and macrobeahvior.)
                They shift "too much" of their shopping to the big
                box, with the result:
                <br>
                <b>
                All of the mom-and-pops are driven out of business,
                despite no consumer wanting that result.
                </b>
            </p>

            <figure>
                <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Oradour-sur-Glane-Streets-1294.jpg/1024px-Oradour-sur-Glane-Streets-1294.jpg"
                height="480" width="640">
                <figcaption id="present">
                The same town, a few years after Walmart moved in.
                </figcaption>
            </figure>
                
                
            <p id="present">
                Thus, 
                it <i>might</i> make sense, faced with such knowledge and
                game theoretic difficulties, for consumers to:
            </p>

            <ul id="present">
                <li id="present">
                Bind themselves in advance to 2), by banning a,
                or some, or all, big box stores
                <li id="present">
                    Try to achieve 1) by, say, forcing big box retailers to
                locate well outside the center of town, making trips
                to them less convenient.
            </ul>
                
            <p id="present">
                (All legislation has unintended
                consequences, which is why we make the weak claim that 
                these types of actions <i>might</i> make sense: such
                legislation might also, for instance, serve the interest of an
                inefficient local monopolist seeking to protect its privileged
                position in a market.)
            </p>

            <h3 id="present">
                Predatory Pricing
            </h3>

            <figure>
                <img
                src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Polar_bear_%28Ursus_maritimus%29_with_its_prey.jpg/1280px-Polar_bear_%28Ursus_maritimus%29_with_its_prey.jpg"
                height="308" width="550">
                <figcaption id="present">
                    KMart devouring a local clothing store
                </figcaption>
            </figure>

            <p id="present">
                We further suggest that our model may actually capture the
                mechanism underlying the intuition of the existence of
                "predatory pricing."
                <br>
                As has often been noted, the idea that
                big box stores engage in predatory pricing to drive out small
                competitors and then jack up the prices to achieve high profits
                has an obvious problem: once the prices charged by the big box
                stores have been raised, why don't the small competitors simply
                reenter the market? (See, for instance, DiLorenzo, 1992.)
                <br>
                <br>
                Our model avoids this pitfall: the big box stores do not need
                to set prices artificially low for a time: they can rely
                on their greater financial resources to ride out the period
                during which <b>all</b> stores will be losing money, and once their
                smaller competitors have exited, they can keep their prices right
                where they were, and now be profitable.
                <br>
                And new smaller
                competitors will not enter the market, since that would merely
                reestablish the situation in which all stores are losing money.
                <br>
                Furthermore, our model has the advantage that we need not posit
                any vicious intent on the part of big-box retailers: they need
                not be <i>intending</i> to drive small retailers out of
                business. They just know that in a year or so, their new outlet
                will be making plenty of money.
            </p>

            <h3 id="present">
                Ulysses Unbound
            </h3>
            <figure>
                <img
                src="https://upload.wikimedia.org/wikipedia/commons/d/d7/Armitage_Siren.JPG"
                height="420" width="600">
                <figcaption id="present">
                    The Siren
                </figcaption>
            </figure>

            <p id="present">
                These suggested constraints are 
                examples of the general class of "constitutional
                constraints" described by Jon Elster in <i>Ulysses Unbound</i>:
            </p>

            <ul id="present">
                <li id="present">
                We want to listen to the Sirens, but we know that if we
                do not tie ourselves to the mast in advance, we will not merely
                listen, but fall prey to their sweet song.
                <li id="present">
                Or, to consider
                more mundane circumstances, by the sober light of day, we
                realize that we do not want to find ourselves in a bar at 4 AM,
                but we also recognize that in the bar at 1 AM, we will not be thinking so
                clearly. So we mandate a bar closing time.
                <li id="present">
                Similarly, we don't want our own speech suppressed, but recognize 
                that in power we might
                give in to the temptation to suppress speech we don't like, and
                that others in power might do so to us. So we pass the first
                amendment to the U.S. Constitution.
            </ul>

        <h2 id="present">
            Model Design 
        </h2>
            <figure>
                <img src="Startup.png">
                <figcaption id="present">
                    Setting the parameters for the model run.
                </figcaption>
            </figure>

            <p id="present">
                In order to see if our notion is theoretically plausible,
                we create a model populated by two basic types of agents:
                consumers (C), and retailers (R). Retailers are further
                classed as mom-and-pops (M) or big-boxes (B).
                <br>
                The mom-and-pops each supply a
                specific type of good, such as hardware or groceries.
                The big-boxes provide every sort of good.
                <br>
                At first the environment is occupied by
                only Ms and Cs. Each supplies something the other needs: the
                consumers supply money to the mom-and-pop stores, and they
                supply goods to the consumers.
                <br>
                Rs receive a periodic
                endowment of goods "from heaven" (which is a parameter),
                while Cs have the same thing happen in
                regards to money. Cs shop in turn at each stores selling each
                type of good they need. If Rs run out of money, they disappear.
                <br>
                Without big box competitors, we discover an equilibrium can
                exist so that a certain number of Ms can remain in business.
            </p>

            <figure>
                <img src="init_equil.png">
                <figcaption id="present">
                    An initial "mom-and-pop" equlibrium.
                </figcaption>
            </figure>

            <p id="present">
                At a certain point in the running of our model, the Bs appear.
                <br>
                They have a much larger initial endowment of money
                then do the Ms.
                <br>
                The Cs want to shop at both types of retailer
                (how much they like each is again a parameter),
                and split their acquisition of goods (according to that
                parameter) between the two types of retailers.
                <br>
                (In order to illustrate the thesis of our paper, that consumer
                behavior may thwart consumer preferences, we have run our model
                with consumers preferring the mom-and-pops by as much as
                four-to-one, and have still gotten a result where the small
                shops disappear.)
                <br>
                This split causes the funds of both types of
                retailers to dwindle. But as the Bs have a much greater
                initial endowment, they are able to survive this period
                of coexistence, while the Ms gradually disappear.
            </p>
                
            <figure>
                <img src="bigbox.png">
                <figcaption id="present">
                    The situation after a few runs with the big-box store
                    present.
                </figcaption>
            </figure>
            
            <p id="present">
                We are soon left with an environment of only Bs and Cs,
                which the Cs did <em>not</em> want. Thus, given 
                simple but not outrageous assumptions, our model
                shows our story above is plausible: it has what Weber
                would call "explanatory adequacy."
                <br>
                Empirical work
                would be necessary to decide whether it has Weberian "causal
                adequacy." (See Callahan and Horwitz, 2010, for a brief
                description of the difference between the two concepts in
                Weber.)
            </p>

        <h2 id="present">
            Model Implementation
        </h2>
            
            <h3 id="present">
                The Indra System
            </h3>
                <p id="present">
                    Our model runs on 
                    <a href="https://gcallah.github.io/Indra/index.html">
                        Indra,</a>
                    an agent based modeling (ABM) system built in Python.
                    <br>
                    Indra includes the following capabilities:
                </p>
                <ul id="present">
                    <li id="present">Looping over agents randomly, in order, in reverse
                    order, or by type.
                    <li id="present">Automatic generation of line graphs and scatter
                    plots.
                    <li id="present">The ability to enter model parameters
                    interactively, from the command line, or from a file.
                    <li id="present">The ability to save parameters sets.
                    <li id="present">The ability to dump the state of the system to a
                    JSON file.
                    <li id="present">A built-in, extensible interactive menu.
                    <li id="present">Automatic creation of network graphs showing the
                    relationship among objects in the system.
                    <li id="present">Extensible Markov-matrix capabilities for easily
                    specified, probabilistic behavior on the part of
                    agents.
                    <li id="present">A flexible spacial environment model that allows
                    the composition of agent views of the environment of
                    any desired shape, easing the creation of models
                    exploring limited, local agent knowledge.
                    <li id="present">In-line debugging capabilities, allowing, e.g., the
                    screen display of all of an agent's attributes at any
                    point during the run of a model.
                    <li id="present">The ability to step through a model to watch it
                    develop in real time.
                </ul>

            <h3 id="present">
                Implementing the Big Box Model in Indra
            </h3>
                <h4 id="present">
                    Overview
                </h4>
                    <p id="present">
                        In addition to running on the base framework of
                        agents and environments, our model includes Indra's Markov classes.
                        <br>
                        These allow our Consumers to display
                        psuedorandom shopping behavior according to the logic of
                        <a href="https://en.wikipedia.org/wiki/Markov_chain">Markov chains</a>. 
                        <br>
                        These Consumers choose to either buy from a 
                        MomAndPop Retailer or a BigBox retailer;
                        their preference is decided by use of a
                        <a href="https://en.wikipedia.org/wiki/https://en.wikipedia.org/wiki/Stochastic_matrix">transition matrix</a>.
                        <br>
                        An agent must choose among the possible stores he can
                        go to.
                        
                        
                        Let's say
                        we define his preferences so that when there are
                        multiple places to go, he goes to a mom and pop about
                        70% of the time and to a big box 30% of the time. An
                        option to simulate this is to generate random numbers:
                        If a random number between 0.0 and 1.0 is less than 0.7,
                        the agent goes to the mom and pop; otherwise he goes to
                        the big box. We can do this by use of
                        Indra's Markov classes, which provide the capability
                        to work with a large array of phenomena that are, or,
                        at least, look like, Markov processes.
                    </p>
                    <p id="present">
                        The way we read the transition matrix is as follows.
                        Our Consumer sees that there are both MomAndPop and
                        BigBox retailers who sell his desired good. Further, he has
                        a predilection for the MomAndPops such that he
                        goes to them about 70% of the time;
                        leaving the remaining 30% of shopping for
                        the BigBox stores.
                    </p>

                <h4 id="present">
                    Model Details
                </h4>
                    <p id="present">
                        Let us look, first, at the behavior of consumers, and
                        then, briefly, at the simpler behavior of retailers.
                    </p>

                    <p id="present">
                        A <b>consumer</b> acts by
                        surveying the environment, evaluatings it,
                        responding according to that evaluation. We call these
                        methods <code>survey_env</code>, <code>eval_env</code>,
                        and <code>respond_to_cond</code>.
                    </p>

                    <pre>
                    <code id="present">
                        def act(self):
                            env_vars = self.survey_env()
                            eval_vars = self.eval_env(env_vars)
                            if eval_vars:
                                self.respond_to_cond(eval_vars)
                    </code>
                    </pre>

                    <p id="present">
                        The way the consumer surveys the
                        environment is to find all the stores
                        in view and record the stores which sell the wanted goods.
                    </p>

                    <pre>
                    <code id="present">
                        def survey_env(self):
                            view = self.env.get_square_view(
                                                    center=self.pos,
                                                    distance=math.sqrt(
                                                        self.env.width**2 +
                                                        self.env.height**2))
                            n_census = []
                            n_census.extend(self.neighbor_iter(view=view,
                                                    filt_func=lambda x:
                                                    x.sells(self.goal)))
                            return n_census
                    </code>
                    </pre>

                    <p id="present">
                        Here is how a Consumer decides where to go shopping:
                    </p>

                    <pre>
                    <code id="present">
                        def eval_env(self, n_census):
                            self.state_pre = self.env.get_pre(self, n_census)
                            self.state_vec = markov.probvec_to_state(
                                                        self.state_pre.matrix)
                            self.state = markov.get_state(self.state_vec)
                            
                            if(self.state == 0):
                                self.preference = MomAndPop
                            if(self.state == 1):
                                self.preference = BigBox

                            for store in n_census:
                                if type(store) is self.preference:
                                    return store                            
                    </code>
                    </pre>

                    <p id="present">
                        Consumers obtain their prehension from the
                        Environment. We build a 2x1 matrix. The (1,1) 
                        entry represents the agent's chance of going to
                        a <code>mom_and_pop</code>, and the (1,2) entry 
                        is that of the <code>big_box</code>. If a type is
                        not in the agents neighborhood, we cannot go there.
                        Since this means there may be a zero entry, we 
                        must normalize the vector. For the column must sum to
                        1, according to the idea of a transition matrix.
                    <p id="present">

                    <pre>
                    <code id="present">
                            def get_pre(self, agent, n_census):
                                trans_str = ""
    
                                if(self.there_is(n_census, MomAndPop)):
                                    trans_str += "0.7 " 
                                else:
                                    trans_str += "0.0 "
    
                                if(self.there_is(n_census, BigBox)):
                                    trans_str += "0.3"
                                else:
                                    trans_str += "0.0"
    
                                state_pre = markov.from_matrix(np.matrix(trans_str))
                                state_pre.matrix = vs.normalize(state_pre.matrix)
                                return state_pre
                    </code>
                    </pre>
                    <p id="present">
                        After choosing where to go,
                        he goes there and buys his long sought after good.
                    </p>

                    <pre>
                    <code id="present">
                        def respond_to_cond(self, store):
                            self.move(store)
                            store.buy_from(self.allowance)
                    </code>
                    </pre>

                    <p id="present">
                        After this action, the consumer
                        now decides his goal is to aquire a new good.
                        This goal is to be acted out during the next cycle of
                        interactions.
                    </p>

                    <pre>
                    <code id="present">
                        def postact(self):
                            """
                            We cycle through the goods the agent might want
                            turn-by-turn.
                            """
                            self.goal = (self.goal + 1) % NUM_GOODS
                    </code>
                    </pre>

                    <p id="present">
                        The <b>retailer</b>'s action is much simpler. It
                        merely pays its bills. If its funds go below
                        zero, it goes bankrupt, and it disappears
                        from the environment never to reappear.
                    </p>

                    <pre>
                    <code id="present">
                        def act(self):
                            self.pay_bills(self.rent)
                            if(self.funds <= 0):
                                self.declare_bankruptcy()
                    </code>
                    </pre>

        <h2 id="present">
            Appendix: Source Code
        </h2>

            <ul id="present">
                <li id="present">
                    <a
                        href="https://github.com/gcallah/Indra/blob/master/bigbox/big_box_model.py">
                        Big Box Model
                    </a>
                <li id="present">
                    <a
                        href="https://github.com/gcallah/Indra/blob/master/bigbox/big_box_run.py">
                        Big Box Run
                    </a>
                <li id="present">
                    <a
                        href="https://github.com/gcallah/Indra/blob/master/bigbox/Math.pdf">
                        Some mathematical analysis of the model
                    </a>
            </ul>

        <h2 id="present">
            Bibliography
        </h2>

            <ul id="present">
                <li id="present">Callahan, Gene and Steven Horwitz.
                    "The Role of Ideal Types in Austrian Business Cycle Theory."
                    In <em>What Is so Austrian about Austrian Economics?</em>,
                    14:205-24. Advances in Austrian
                    Economics 14. Emerald Group Publishing Limited, 2010.
                    http://www.emeraldinsight.com/doi/abs/10.1108/S1529-2134%282010%290000014013.
                <li id="present">DiLoernzo, Thomas.
                    "The Myth of Predatory Pricing."
                    <i>Cato.org</i>,
                    1992. https://www.cato.org/pubs/pas/pa-169.html.
                <li id="present">
                    Elster, Jon.
                    <i>Ulysses Unbound: Studies in Rationality,
                        Precommitment, and Constraints</i>.
                    Cambridge: Cambridge University Press, 2000.
                <li id="present">DiLoernzo, Thomas. "The Myth of Predatory Pricing."
                    Cato.org, 1992. https://www.cato.org/pubs/pas/pa-169.html.
                <li id="present">Schelling, Thomas C.
                    <i>Micromotives and Macrobehavior</i>.
                    New York: Norton, 2006.
                <li id="present">Slee, Tom.
                    <em>No One Makes You Shop At Walmart.</em>
                    Between the Lines, 2006.
            </ul>

            <ul id="present">
                <li id="present">
                    Main Street image by Larry D. Moore, CC BY-SA 3.0,
                    https://commons.wikimedia.org/w/index.php?curid=609290
                <li id="present">
                    Polar bear: By AWeith - Own work, CC BY-SA 4.0,
                    https://commons.wikimedia.org/w/index.php?curid=51515270
            </ul>
    </body>
</html>
